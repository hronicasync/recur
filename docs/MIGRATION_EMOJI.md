# –ú–∏–≥—Ä–∞—Ü–∏—è: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∫ –ø–æ–¥–ø–∏—Å–∫–∞–º

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ?

–¢–µ–ø–µ—Ä—å –∫ –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏! –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω—ã–º –∏ –∫—Ä–∞—Å–∏–≤—ã–º.

## –ö–∞–∫ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ psql

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–≤–æ–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç:

```bash
psql -h <your_host> -U <your_user> -d <your_database> -f migrations/add_emoji_field.sql
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```sql
-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è emoji –∫ —Ç–∞–±–ª–∏—Ü–µ subscriptions
ALTER TABLE subscriptions
ADD COLUMN IF NOT EXISTS emoji VARCHAR(10) DEFAULT '‚ñ´Ô∏è';

-- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º —ç–º–æ–¥–∑–∏
UPDATE subscriptions
SET emoji = '‚ñ´Ô∏è'
WHERE emoji IS NULL;

-- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
COMMENT ON COLUMN subscriptions.emoji IS '–≠–º–æ–¥–∑–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚ñ´Ô∏è)';
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Docker

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker:

```bash
docker exec -i recur_bot_postgres psql -U <your_user> -d <your_database> < migrations/add_emoji_field.sql
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/add`
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
3. **–ù–æ–≤–æ–µ!** –í—ã–±–µ—Ä–∏—Ç–µ —ç–º–æ–¥–∑–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π
4. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `/edit`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–≠–º–æ–¥–∑–∏"
4. –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π —ç–º–æ–¥–∑–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π
5. –ï—Å—Ç—å –∫–Ω–æ–ø–∫–∞ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π ‚ñ´Ô∏è" –¥–ª—è —Å–±—Ä–æ—Å–∞

### –ü—Ä–æ–ø—É—Å–∫ –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" - —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —ç–º–æ–¥–∑–∏ ‚ñ´Ô∏è

## –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

```
–í–æ—Ç –≤—Å–µ —Ç–≤–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏:

–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ

ü´Ä vps server ‚Ä¢ 595 ‚ÇΩ
üóì —Å–ª–µ–¥. —Å–ø–∏—Å–∞–Ω–∏–µ 10 —è–Ω–≤., —Å–±

üåç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Ä¢ 816 ‚ÇΩ
üóì —Å–ª–µ–¥. —Å–ø–∏—Å–∞–Ω–∏–µ 12 —è–Ω–≤., –ø–Ω

üéæ ddx ‚Ä¢ 2 800 ‚ÇΩ
üóì —Å–ª–µ–¥. —Å–ø–∏—Å–∞–Ω–∏–µ 14 —è–Ω–≤., —Å—Ä
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —ç–º–æ–¥–∑–∏ ‚ñ´Ô∏è
- –ù–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã
- –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞
